<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AUTO ZONE | ÙƒÙ…Ø§Ù„ÙŠØ§Øª Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</title>
    <style>
        body {font-family: Tahoma, Arial; margin:0; background:#1c1c1c; color:#f5f5f5}
        header {background:#0f0f0f; color:#f5c542; padding:25px; text-align:center}
        
        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù„ÙˆØ¬Ùˆ */
        #main-logo { max-height: 80px; margin-bottom: 10px; display: none; margin-left: auto; margin-right: auto; }
        
        header h1 {margin:0; font-size:30px; letter-spacing:2px}
        nav {background:#f5c542; padding:12px; text-align:center}
        nav a {color:#111; margin:0 12px; text-decoration:none; font-weight:bold}
        .container {padding:20px}
        h2 {color:#f5c542}
        .products {display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:18px}
        .card {background:#111; border-radius:12px; padding:15px; box-shadow:0 4px 10px rgba(0,0,0,0.6); text-align: center;}
        
        /* ØªÙ†Ø³ÙŠÙ‚ ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬ */
        .card img {width:100%; height:180px; border-radius:10px; object-fit: cover; background:#222}
        
        .card h3 {margin:10px 0 5px; font-size: 1.1em; min-height: 45px;}
        .price {color:#f5c542; font-weight:bold; display: block; margin-bottom: 10px;}
        .btn {display:block; background:#f5c542; color:#111; text-align:center; padding:10px; border-radius:8px; text-decoration:none; font-weight:bold}
        .btn:hover {background:#ffd966}
        footer {background:#0f0f0f; color:#aaa; text-align:center; padding:15px; margin-top:25px}
        .loading { text-align: center; color: #f5c542; padding: 50px; font-size: 20px; }
    </style>
</head>
<body>

<header>
    <img src="" id="main-logo" alt="Logo">
    <h1>AUTO ZONE</h1>
    <p>Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚ÙˆØ© Ù„ÙƒÙ…Ø§Ù„ÙŠØ§Øª Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</p>
</header>

<nav>
    <a href="#products">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
    <a href="#about">Ø¹Ù†Ù‘Ø§</a>
    <a href="https://wa.me/201040326645">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a>
</nav>

<div class="container" id="products">
    <h2>ğŸ”¥ Ù…Ù†ØªØ¬Ø§ØªÙ†Ø§</h2>
    <div id="loading" class="loading">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Ø§Ù„Ø´ÙŠØª...</div>
    <div class="products" id="product-list">
        </div>
</div>

<div class="container" id="about">
    <h2>â„¹ï¸ Ø¹Ù† Ø§Ù„Ù…ØªØ¬Ø±</h2>
    <p>Ù†Ø­Ù† Ù…ØªØ®ØµØµÙˆÙ† ÙÙŠ Ø¨ÙŠØ¹ ÙƒÙ…Ø§Ù„ÙŠØ§Øª Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ø¨Ø£ÙØ¶Ù„ Ø¬ÙˆØ¯Ø© ÙˆØ£Ø³Ø¹Ø§Ø± Ù…Ù†Ø§ÙØ³Ø© Ù…Ø¹ ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹ Ù„ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª.</p>
</div>

<footer>
    <p>Â© 2025 AUTO ZONE - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
</footer>

<script>
    // Ø±Ø§Ø¨Ø· Ø§Ù„Ø´ÙŠØª Ø¨ØªØ§Ø¹Ùƒ Ø¨ØµÙŠØºØ© CSV
    const sheetId = '12cfNYa-jFCzKvPnhEHCXJBsDRpEE-ZVLnzhrPUbr9k0';
    const csvUrl = `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?tqx=out:csv`;

    async function fetchProducts() {
        try {
            const response = await fetch(csvUrl);
            const data = await response.text();
            
            // ØªÙ‚Ø³ÙŠÙ… Ø§Ù„ØµÙÙˆÙ
            const rows = data.split('\n').slice(1); 
            const productList = document.getElementById('product-list');
            const logoImg = document.getElementById('main-logo');
            document.getElementById('loading').style.display = 'none';

            rows.forEach((row, index) => {
                // ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ù…Ø¹ Ù…Ø±Ø§Ø¹Ø§Ø© Ø§Ù„ÙÙˆØ§ØµÙ„ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù†ØµÙˆØµ
                const cols = row.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/).map(col => col.replace(/^"(.*)"$/, '$1').trim());

                if (cols.length >= 2 && cols[0] !== "") {
                    const name = cols[0];      // Ø§Ù„Ø¹Ù…ÙˆØ¯ A
                    const price = cols[1];     // Ø§Ù„Ø¹Ù…ÙˆØ¯ B
                    const imgUrl = cols[2];    // Ø§Ù„Ø¹Ù…ÙˆØ¯ C (Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©)
                    const logoUrl = cols[3];   // Ø§Ù„Ø¹Ù…ÙˆØ¯ D (Ø§Ù„Ù„ÙˆØ¬Ùˆ)

                    // Ø³Ø­Ø¨ Ø§Ù„Ù„ÙˆØ¬Ùˆ Ù…Ù† Ø£ÙˆÙ„ ØµÙ ÙÙŠÙ‡ Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ø¹Ù…ÙˆØ¯ D
                    if (index === 0 && logoUrl) {
                        logoImg.src = logoUrl;
                        logoImg.style.display = 'block';
                    }

                    const cardHTML = `
                        <div class="card">
                            <img src="${imgUrl || 'https://via.placeholder.com/300x200?text=AutoZone'}" alt="${name}" onerror="this.src='https://via.placeholder.com/300x200?text=No+Image'">
                            <h3>${name}</h3>
                            <p class="price">${price}</p>
                            <a class="btn" href="https://wa.me/201040326645?text=Ù…Ø­ØªØ§Ø¬ Ø§Ø³ØªÙØ³Ø± Ø¹Ù† ${name}">Ø§Ø·Ù„Ø¨ ÙˆØ§ØªØ³Ø§Ø¨</a>
                        </div>
                    `;
                    productList.innerHTML += cardHTML;
                }
            });
        } catch (error) {
            document.getElementById('loading').innerText = "Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ ØªØ£ÙƒØ¯ Ù…Ù† Ù†Ø´Ø± Ø§Ù„Ø´ÙŠØª (Publish to Web).";
        }
    }

    fetchProducts();
</script>

</body>
</html>
