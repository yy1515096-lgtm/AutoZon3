<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AUTO ZONE | ÙƒÙ…Ø§Ù„ÙŠØ§Øª Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</title>
    <style>
        body {font-family: Tahoma, Arial, sans-serif; margin:0; background:#1c1c1c; color:#f5f5f5; line-height: 1.6;}
        header {background:#0f0f0f; color:#f5c542; padding:30px 20px; text-align:center; border-bottom: 3px solid #f5c542}
        
        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù„ÙˆØ¬Ùˆ */
        #main-logo { max-height: 100px; margin-bottom: 15px; display: none; margin-left: auto; margin-right: auto; }
        
        header h1 {margin:0; font-size:30px; letter-spacing:2px; text-transform: uppercase;}
        .container {padding:40px 20px; max-width: 1100px; margin: auto;}
        h2 {color:#f5c542; text-align: center; margin-bottom: 30px; border-bottom: 1px solid #333; padding-bottom: 10px;}
        .products {display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:25px}
        
        .card {
            background:#111; border-radius:15px; overflow: hidden;
            box-shadow:0 10px 30px rgba(0,0,0,0.7); text-align: center; 
            border: 1px solid #222; transition: all 0.3s ease;
        }
        .card:hover {border-color: #f5c542; transform: translateY(-10px);}
        
        .product-img { width: 100%; height: 200px; object-fit: cover; background: #222; }
        .card-content { padding: 20px; }
        .card h3 {margin:10px 0; color: #fff; font-size: 1.2em; min-height: 50px;}
        
        .price {
            color:#f5c542; font-weight:bold; font-size: 1.4em; display: block; 
            margin-bottom: 20px; background: rgba(245, 197, 66, 0.1);
            padding: 8px; border-radius: 8px;
        }
        
        .btn {
            display:block; background:#f5c542; color:#111; text-align:center; 
            padding:12px; border-radius:10px; text-decoration:none; font-weight:bold;
        }
        .loading-box { text-align: center; padding: 100px; font-size: 1.5em; color: #f5c542; }
        footer {background:#0f0f0f; text-align: center; padding: 30px; color: #666; margin-top: 50px;}
    </style>
</head>
<body>

<header>
    <img src="" id="main-logo" alt="Logo">
    <h1 id="site-title">AUTO ZONE</h1>
    <p>ğŸš€ Ø£Ù‚ÙˆÙ‰ ÙƒÙ…Ø§Ù„ÙŠØ§Øª Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª ÙÙŠ Ù…ØµØ±</p>
</header>

<div class="container">
    <h2>ğŸ”¥ Ø¹Ø±ÙˆØ¶Ù†Ø§ Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h2>
    <div id="loading" class="loading-box">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¹Ø±Ø¶...</div>
    <div class="products" id="product-list"></div>
</div>

<footer>
    <p>Â© 2025 AUTO ZONE - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
</footer>

<script>
    const sheetId = '12cfNYa-jFCzKvPnhEHCXJBsDRpEE-ZVLnzhrPUbr9k0';
    const csvUrl = `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?tqx=out:csv`;

    async function fetchProducts() {
        try {
            const response = await fetch(csvUrl);
            const data = await response.text();
            const rows = data.split('\n').slice(1); 
            const productList = document.getElementById('product-list');
            const logoImg = document.getElementById('main-logo');
            
            document.getElementById('loading').style.display = 'none';

            rows.forEach((row, index) => {
                const cols = row.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/).map(col => col.replace(/^"(.*)"$/, '$1').trim());
                
                if (cols.length >= 2) {
                    const name = cols[0];      // Ø§Ù„Ø¹Ù…ÙˆØ¯ A
                    const price = cols[1];     // Ø§Ù„Ø¹Ù…ÙˆØ¯ B
                    const imgUrl = cols[2];    // Ø§Ù„Ø¹Ù…ÙˆØ¯ C (ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬)
                    const logoUrl = cols[3];   // Ø§Ù„Ø¹Ù…ÙˆØ¯ D (Ø§Ù„Ù„ÙˆØ¬Ùˆ)

                    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„ÙˆØ¬Ùˆ Ù…Ù† Ø£ÙˆÙ„ ØµÙ ÙÙ‚Ø·
                    if (index === 0 && logoUrl) {
                        logoImg.src = logoUrl;
                        logoImg.style.display = 'block';
                    }
                    
                    const cardHTML = `
                        <div class="card">
                            <img src="${imgUrl}" class="product-img" onerror="this.src='https://via.placeholder.com/300x200?text=No+Image'">
                            <div class="card-content">
                                <h3>${name}</h3>
                                <span class="price">${price}</span>
                                <a class="btn" href="https://wa.me/201040326645?text=Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ù†: ${name}">Ø§Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</a>
                            </div>
                        </div>
                    `;
                    productList.innerHTML += cardHTML;
                }
            });
        } catch (error) {
            document.getElementById('loading').innerText = "Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø´ÙŠØª.";
        }
    }
    fetchProducts();
</script>
</body>
</html>

